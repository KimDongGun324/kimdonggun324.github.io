---
layout: default
title: 2025-11-27 PBR Study
---

[⬅️ Log 목록으로 돌아가기](../../README.md)

# [2025-11-27] PBR Lighting Model Refactoring

## 1. Problem (문제 정의)
언리얼 엔진 5의 소스 코드를 분석하던 중, 모바일 환경에서 PBR 셰이더의 연산 비용이 생각보다 높다는 것을 확인했다. 특히 Specular 계산 부분의 `pow()` 함수가 병목이 될 가능성이 있어 보였다.

## 2. Process (연구 과정)
### Cook-Torrance BRDF 분석
$$f_r = k_d f_{lambert} + k_s \frac{DFG}{4(\omega_o \cdot n)(\omega_i \cdot n)}$$

위 수식에서 D(Distribution) 함수인 GGX를 구현할 때 `pow` 연산이 많이 들어간다. 이를 근사식(Approximation)으로 대체하여 오차 범위를 테스트해보았다.

```hlsl
// 기존: Expensive Pow
float3 Specular = pow(NdotH, RoughnessExp);

// 변경: Approximation (Schlick's approximation 등 활용)
float3 Specular = ...
